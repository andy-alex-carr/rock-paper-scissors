<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <h1>Rock Paper Scissors</h1>
        <div class="score-textbox">
            Choose your move to start the game. Click on the buttons or press the numbers on your keyboard.
        </div>
        <button class="button" value="Rock">Rock - 1</button>
        <button class="button" value="Paper">Paper - 2</button>
        <button class="button" value="Scissors">Scissors - 3</button>
        <button class="reset">RESET - 0</button>
        <script>
            const buttons = document.querySelectorAll(".button");
            const reset = document.querySelector(".reset");
            const textbox = document.querySelector(".score-textbox");
            
            function getComputerChoice() {
                let choice = Math.floor(Math.random() * 3);
                switch (choice) {
                    case 0:
                        return "Rock";
                    
                    case 1:
                        return "Paper";

                    default:
                        return "Scissors";
                    }
            }

            function userWins(userChoice, computerChoice) {
                if (userChoice == "Rock") {
                    return computerChoice == "Scissors";
                } else if (userChoice == "Paper") {
                    return computerChoice == "Rock";
                } else {
                    return computerChoice == "Paper";
                }
            }

            let userScore = 0;
            let computerScore = 0;

            function getRoundWinner(userChoice, computerChoice) {
                if (userChoice !== computerChoice) {
                    if (userWins(userChoice, computerChoice)) {
                        userScore++;
                        return `You win! ${userChoice} beats ${computerChoice}!`;
                    } else {
                        computerScore++;
                        return `Computer wins! ${computerChoice} beats ${userChoice}!`;
                    }
                } else {
                    return "Tie!";
                }
            }

            function playGame(userChoice, computerChoice) {
                textbox.textContent = getRoundWinner(userChoice, computerChoice) + ` ${userScore} - ${computerScore}`;
                
                if (userScore === 5 || computerScore === 5) {
                    buttons.forEach(button => button.disabled = true);
                    textbox.textContent = `
                    Game Over! You ${(userScore > computerScore) ? "Win" : "Lose"}! ${userScore} - ${computerScore}
                    Press RESET to play again.
                    `;
                }
            }

            function resetGame() {
                userScore = 0;
                computerScore = 0;
                buttons.forEach(button => button.disabled = false);
                textbox.textContent = "Choose your move to start the game. Click on the buttons or press the numbers on your keyboard.";
            }

            buttons.forEach(button => button.addEventListener('click', (e) => {
                if (!button.disabled) playGame(e.target.value, getComputerChoice());
            }));
            reset.addEventListener('click', () => resetGame());

            const clickButton = new MouseEvent('click');
            document.addEventListener('keydown', (e) => {
                switch (e.key) {
                    case "1":
                    case "2":
                    case "3":
                        buttons[e.key - 1].dispatchEvent(clickButton);
                        break;

                    case "0":
                        reset.dispatchEvent(clickButton);
                        break;

                    default:
                        break;
                };
            })
        </script>
    </body>
</html>